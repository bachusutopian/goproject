package main

import (
	"bufio"
	"fmt"
	"log"
	"os"
	"strconv"
	"strings"
)

func main() {

	// open file
	f, err := os.OpenFile("matrix1.txt", os.O_RDONLY, 0644)
	if err != nil {
		log.Fatal(err)
	}
	// remember to close the file at the end of the program
	defer f.Close()

	// read the file line by line using scanner
	scanner := bufio.NewScanner(f)

	var mat [][]int

	for scanner.Scan() {
		var row []int

		str := scanner.Text()
		hf := strings.Split(str, " ")

		for i := 0; i < len(hf); i++ {
			print("\nhf[i] = ", hf[i])
			j, err := strconv.Atoi(hf[i])
			if err == nil {
				row = append(row, j)
			}
		}

		mat = append(mat, row)

	}
	print("MATRIX\n")
	for k := 0; k < len(mat); k++ {
		for h := 0; h < len(mat[k]); h++ {
			fmt.Print(mat[k][h], " ")
		}
		fmt.Println()
	}

	if err := scanner.Err(); err != nil {
		log.Fatal(err)
	}
}
